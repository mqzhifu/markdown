西控
一个小游戏平台，靠广告赚钱还有一些道具-购买一些道具
3方可以上传自己的游戏，并上下架
我主做的模块：用户中心、登陆/注册、成就、任务、活动、游戏帧同步、后台管理

每个APP或H5，登陆后，至少有2个长连接
- push/im
- 游戏同步


push/im：有一个网关，连接所有长连接

所有APP/网页，会留2个域名（其中一个是备用），请示到后端，拿到一批域名
- 游戏的长连接域名
- PUSH/IM的域名
- API-微服务的域名

专门有台服务器接收这个请示：
- 判断玩家是移动还是联通
- 判断一下当前地域
- 看看后端哪台机器空闲度高
- API，实时从后端的一群网关找一台机器

3个地方的机房：广州、杭州、北京

PUSH 的消息统一会进队列


注册量
- 最大200W，
- 在线用户最高值/并发 2W
- 每台机器大概平均1000人

服务启动后，请求 NACOS/etcd 注册自己的IP:PORT
服务之间调用是通过 nacos/etcd

微服务/应用程序处理完后：
- 请求MQ
- 插入DB
- 写入REDIS

DB

突然来了大量的请示，如何处理？

