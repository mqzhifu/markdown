
RAM ：Random Access Memory 随机访问记忆体

# 工作方式

插入到主板上的 PCIE 插槽，通电，接收 CPU 控制 ：

1. 从 SSD 中读数据，送入CPU，同时接收 CPU 的写入操作，写回到SSD
2. 从 外设 中读数据，送入CPU，同时接收 CPU 的写入操作，写回到外设中

>通电才能正常使用，断电内存上面的数据全部丢失。它是靠电流生成数据(1和0)，保存到某个芯片中的

IO速度大概17NS ，SSD大概是50微秒，相差约3000倍
其内部是2D平辅上亿个晶体管，SSD的叠加3D的晶体管


# 从物理结构上看，关键模块：

1. 颗粒
2. 芯片控制器

# 从物理接口(封装)上看：

1. SIMM Single Inline Memory Module，单列直插内存模块
>80年代的，早期的模组只有30个PIN，而较新的模组有72个PIN。支持32bit
2. DIMM Dual Inline Memory Module，双列直插内存模块
>由 SIMM 升级而来，168Pin 。支持64bit 
3. SO-DIMM small outline dual in-line memory module）小外形双列直插式内存模块
>同DIMM 一样，但更小，用于笔记本


我没找到，具体的差别。好像是 PCB 芯片以何种方式嵌入到板子上的：封装格式，同时，决定了传输的速率。不过，现在全是DIMM了。

# 颗粒

具体存储数据的容器
长方形

全球能生产内存颗粒的，基本上是 4 家厂商：

1. 三星
2. 海力士\(好像是 intel 卖了\)
3. 镁光
4. 长鑫存储

> 还有几个低端的厂商，如：南亚等

严格说：中国的颗粒还是略差，另外三家全球市场份额占比将近 96%




##### 存储的原器件

MOSFET：电开关
电容：存电
放大器：将微弱电流、电压、电信号放大

# 芯片控制器

暂时不懂


# 从数据存储的方式上看：

1. DRAM ：Dynamic RAM  动态随机访问记忆体 
>每微秒都要刷新，不然电容会流失，间接理解为电的流失造成数据的流失，每个周期都要补电，保证数据不丢失
2. SRAM：Static RAM  静态随机访问记忆体 
>不需要刷新，只要通电且稳定，上面的数据就是安全的
>SRAM 要比 DRAM 速度快，且数据IO稳定。

它两的区别是：存储数据的方式不同
SRAM：使用六晶体管电路(six-transistor circuit)和锁存器(latch)存储一个bit。
>对电噪不敏感，电噪会产生电信号干扰

DRAM：一个晶体管另加一个电容器来存储一个bit
>电容(器)存在漏电，所以要定期刷新(补电)


通过以上分析：速度快的 SRAM 但容量小（成本更高）
SRAM 可能适合一些高端的产品，或对性能有极致要求的产品。
所以，结论就是：DRAM 是主流


# SDRAM

synchronous Dynamic Random Access Memory 时钟同步-动态-随时访问记忆体。

DRAM在使用时，需要矩阵，同时需要定时刷新，刷新的过程需要控制，增加一个时钟跳动器，用来触发控制器来进行刷新

>内存条上的是内部时钟频率与CPU时钟的外频同步


CPU的外频：主要就是自己的总线频率，也可以看成是 CPU 与内存的同步频率，或者看成 CPU 与外设的频率

时钟上升沿传输数据

SyncLink  RamLink
# DDR 

Double Data Rate SDRAM 双数据速率 SDRAM

时钟 上升沿 和 下升沿 传输数据，共计二次



|标准|传输速率|核心频率|Prefetch|总线频率|最大位宽|电压 (V)|
|---|---|---|---|---|---|---|
|SDR|100–166|100–166|1n|100–166|16/16|3.3|
|DDR|200–400|100–200|2n|100–200|16/32|2.5, 2.6|
|DDR2|400–1066|100–266|4n|200–533|16/64|1.8, 1.55|
|DDR3|800–2133|100–266|8n|400–1066|16/128|1.5, 1.35|
|DDR4|1600–3200|200–400|8n|800–1600|16/128|1.2|
|DDR5|4800-8400|300-525|16n|2400–4200|16/256|1.1|

核心频率=内存时钟频率

>从 DDR 的传输/存储方式开始，内存算是有了比较质的飞跃




# 单双/通道

单通道：同一时间 只能读 or 只能写

双通道：同一时间 可读可写

双通道是：DDR1时代是产生的，CPU上的 DRAM-控制器 增加一组内存总线。同样，主板上增加一组内存的总线。
>仅仅是加了一组内存总线(地址、数据、控制)，感觉没啥成本

但这里有个悖论：如果读/写是分开的，那么内存从硬盘上读入的数据（代码/数据）也得分到两根内存条上，并且最好是一根全是读操作的数据，另外一根全是需要写的数据。

从程序员的角度来看，这根本不太可能成立啊。CPU怎么能确定哪些数据具体放到哪根内存条上呢？另外，数据这东西也不可能完全是写或读，有些数据即要读也可能要写啊。所以，从我个人写程序的角度上来看，提升不了多少速度。并且，实际网上也有博主测试过：除了打游戏能提升个5%~10%左右，日常作图/渲染几乎无差别。

现在的 主板 和 CPU 都是双通道的，即使低端的 板子/CPU 也一样。但这是引出了几个问题：
1. 商家可以营销的
2. 商家可以借机，多卖一根内存条了
3. 复杂化了，如果主板有4根内存插槽，用户得知道怎么插，才能最大化

> 个人感觉，对于普通用户来说，这个双通道就像是商家搞出来忽悠小白的。



# T-TYPE/DETYPE

CPU跟主板有双通道总线了，但是中高端的主板的内存插槽却有4根，如何处理?

T-TYPE：总线是在两根内存插槽中间，然后再向两边各引一点短线，连接到内存插槽上
优点：当4根插满，内存条能跑到频率的90%左右
缺点：当插2根时，内存条能跑到频率的70%左右

D-TYPE：总线是连接到距离CPU最近的那一根内存插槽，然后，再向右延迟一点，连接上另外一根内存插槽。

优点：当插2根条，且是在最右边，那就不会出现空电传输，性能可以达到80%左右
缺点：当4根插满，内存条能跑到频率的85%左右


# 时序

CAS: column address strobe
COR : currently open row
RAS: row address strobe
CL：CAS Latency  列地址访问的延迟时间，是时序中最重要的参数
tRCD：RAS to CAS Latency  内存行地址传输到列地址的延迟时间
rTP：RAS Prechange Time 内存行地址选通脉冲预充电时间
tRas：RAS Active time 

当内存收到 CPU 指令，能在一定时间\(NS单位\)做出响应

> 时序不好的货，低端的 DDR5 稳定性 还不如高端的 DDR4

1. 频率:对内存条访问的频率

> 这里有个超频

1. 颗粒:存储数据的物理器件

> 原片 \> 白片 \> 黑片，小厂商不能生产颗粒，就可以买这种低端的黑片，价格就便宜了。
> 
> 
> 三星颗粒等级：A\-die \> B\-die \> C\-die \> D\-die ....

时序、频率 其实和颗粒有直接关系，所以这里看，颗粒的等级最重要。



# 厂商

|厂商  |国家|市场占有率|主打市场     |主打型号     |备注                          |
|------|----|----------|-------------|-------------|------------------------------|
|三星  |韩国|45        |中高低       |980 990 |号称最稳定的条                          |
|海力士|韩国|29        |中高低       |             |同属SK集团，很稳定                    |
|镁光  |美国|21        |中高低       |             |虽然用的很多，但整体一般                          |
|英睿达|美国|          |中端         |             |镁光子公司                    |
|雷克沙|美国|          |低端         |             |镁光子公司                    |
|海盗船|美国|          |中高端 |统治者 复仇者         |假货泛滥，颗粒一般                          |
|金士顿|美国|          | 中高端            |野兽、叛逆者         |假货泛滥，不过是老牌子                          |
|英睿达|美国|          | 中端            |aaaa         |镁光子公司                    |
|科赋  |韩国|          | 中高端            |aaaa         |同属SK集团                    |
|金百达|国产|          |中低端         |aaaa         |长鑫 颗粒，据说 它的 DDR5不错。但品控一般，D4超频很差 |
|光威  |国产|          | 中低端            |aaaa         |bbbb                          |
|芝奇  |台湾|          |高端         |幻光戟 皇家戟|内存中的LV                    |
|威刚  |台湾|          |龙耀 威龙    |aaaa         |                          |
|宏碁  |台湾|          | 中低端            |aaaa         |                          |
|宇瞻  |台湾|          | 中低端            |aaaa         |                          |
|      |    |          |             |             |                              |
|      |    |          |             |             |                              |

>还有一些牌子：阿斯加特 十铨 七彩虹 金泰克 ，不列举了，麻烦。

市场占比数据来源 2018，3家公司合集占比：95%左右，韩国两家合计占比：74。
这两年国产的长江 长鑫 据说在2024年能够占比升至8%

>美国带着小弟韩国，制裁以下中国，感觉中国就没法生产电脑了。。。。

虽然列表里厂商一大堆，但你买的内存条，颗粒产商基本上就三家：三星、海力士、镁光




