# 初衷

当某个表中的数据非常大的时候，任何操作(CURL)的性能都会下降，如果分表，会提升性能，提升并发度

慢的原因：
- 磁盘IO。当有QUERY 执行时，扫描全表，一次的数据量会非常大
- 索引过大。数据量大索引也就大，UPDATE DELETE 重做索引时，会很慢

# 水平分表

根据表中的某一列的值，做 hash 计算，把所有记录，平均分到若干的表中


根据用户ID：纯散列模式，所有的请示都会均匀的落在每一张表上。

根据 插入时间：算是冷热数据分离，肯定是时间最近的，访问更高些。



# 垂直分库


# 数据分开后的问题

事务，尤其分库，MYSQL 是完全不支持跨库事务的。可以使用分布式事务，但非常麻烦，总之：事务就不能用了。在保证AICD 时，得程序员自己做了。

聚合操作：数据分开后，可能某些操作需要读取所有数据，得建立二级索引表/二级索引缓存。
>排序、分页、查找某一列的所有值

自增ID/唯一ID：原本MYSQL自己可以实现了，现在得有一个专门的生成器了，用于生成唯一ID




总之：原本一个表就能解决的问题，分散成多张表，复杂度肯定是要增加的。

