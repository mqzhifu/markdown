# 概览

user datagram protocol

1. 无连接
2. 一对一、一对多、多对多(单播、广播、多播)
3. 对应用层直接打包
4. 尽最大努力交付，也就是不可靠，不使用流控
5. 头部仅8个字段

# tcp


transmission control protocol

1. 面向连接
2. 每个连接1对1
3. 面向字节流
4. 可靠传输
5. 首部小最20个字节，最大60

# 基础


# mtu : maxinum transmission unit


以太网，在链路层，是以帧为单位的，每帧最大为1518，以太网帧头部占14个字节，和帧尾占4个字节，共计18个字节，最后 报文就是1518-18=1500

IP头20个字节，UDP头8个字节，1500 - 20 - 8 = 1472

然而，internet 的标准是576-1515..... 规则中说：不能小于576，太小会有ICMA攻击....那理论上的1472可能兼容性就不够好了，得重新计算下，576 - 20 - 8 =548

RUDP

------------

1. 尽力可靠：通信的接收方要求发送方的数据尽量完整到达，但业务本身的数据是可以允许缺失的。例如：音视频数据、幂等性状态数据。
2. 无序可靠：通信的接收方要求发送方的数据必须完整到达，但可以不管到达先后顺序。例如：文件传输、白板书写、图形实时绘制数据、日志型追加数据等。
3. 有序可靠：通信接收方要求发送方的数据必须按顺序完整到达。

>感觉就是将原TCP发送的：所有数据（重要、可靠的数据），改成：对数据进行分类处理

重传机制

-----------

1. 定时重传，在一个TIMER内未收到对方的ACK，即触发重传
1. 对方发送ACK 结果半路丢了
2. 对方发送了ACK，但是超时了
3. 难点：RTO的TIMER值计算
4. 总结：适合，对延迟敏感但对流量成本不高的场景.因为大量的TIMER会耗时CPU还会吃带宽，小数据传输还可以，大数据量就有点坑了。
2. 请求重传，接收方返回的ACK中，包含：丢失了哪些帧，然后S端触发重传
3. Forward Error Correction

拥塞/流控

--------

冗余UDP

UDT

-----------

ARQ协议：(Automatic Repeat-reQuest)


# 待处理


# UDP

user data protocol 用户数据报协议不可靠的、无连接的数据报服务，实际更深入的了解是：没有进行3次握手，也就是没有校验的过程，直接将报文头\+数据，发送给目的主机。![a970d7b1a3a591f2dfcb35413cb914ae.jpg](image/a970d7b1a3a591f2dfcb35413cb914ae.jpg)

通过以上，实际上个人的理解是：IP处理的是主机到主机的通信，而TCP处理的是一台机器上端口到端口的通信，也就是进程之间的通信。

最初，为了实现几台，或者一栋楼里的机器互联，就产生了IP路由器，也就是网关

